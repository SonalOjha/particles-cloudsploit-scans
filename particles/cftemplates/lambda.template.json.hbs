{{#layout}}

  {{parameter "execution_role" logicalId="ExecutionRole"}}
  {{condition "module:particles-common-core" "is_empty" logicalId="ExecutionRoleIsEmpty" parameterLogicalId="ExecutionRole"}}

  {{resource "lambda_execution_role" logicalId="LambdaExecutionRole" condition="ExecutionRoleIsEmpty"}}

  {{resource "lambda" logicalId="Lambda"}}

  {{output "lambda_name" logicalId="LambdaName" lambdaLogicalId="Lambda"}}

  {{output "lambda_arn" logicalId="LambdaArn" lambdaLogicalId="Lambda"}}

  {{output "role_name" logicalId="ExecutionRoleName" roleLogicalId="LambdaExecutionRole" condition="ExecutionRoleIsEmpty"}}

  {{output "role_arn" logicalId="ExecutionRoleArn" roleLogicalId="LambdaExecutionRole" condition="ExecutionRoleIsEmpty"}}

{{/layout}}
